{"test_id": "1.1", "name": "vague_goal", "user_input": "I'm training for a marathon", "system_state": {"target_action": null, "filled_slots": {}, "missing_slots": []}, "expected_llm_output": {"target_action": "plan_race_build", "required_slots": ["race_date", "race_distance"], "filled_slots": {"race_distance": "Marathon"}, "missing_slots": ["race_date"], "next_question": "What is the date of your marathon?", "should_execute": false}, "expected_system_action": "ASK_FOR_SLOT", "user_facing_response": "What is the date of your marathon?"}
{"test_id": "1.2", "name": "partial_time_info", "user_input": "In April", "system_state": {"target_action": "plan_race_build", "filled_slots": {"race_distance": "Marathon"}, "missing_slots": ["race_date"]}, "expected_llm_output": {"target_action": "plan_race_build", "filled_slots": {"race_distance": "Marathon", "race_date_month": "April"}, "missing_slots": ["race_date_exact"], "next_question": "Do you know the exact race date in April?", "should_execute": false}, "expected_system_action": "ASK_FOR_SLOT", "user_facing_response": "Do you know the exact race date in April?"}
{"test_id": "1.3", "name": "exact_date_provided", "user_input": "April 25", "system_state": {"target_action": "plan_race_build", "filled_slots": {"race_distance": "Marathon"}, "missing_slots": ["race_date"]}, "expected_llm_output": {"target_action": "plan_race_build", "filled_slots": {"race_date": "2026-04-25", "race_distance": "Marathon"}, "missing_slots": [], "should_execute": true}, "expected_system_action": "EXECUTE", "user_facing_response": null}
{"test_id": "2.1", "name": "date_first_then_distance", "user_input": "My race is April 25", "system_state": {"target_action": null, "filled_slots": {}, "missing_slots": []}, "expected_llm_output": {"target_action": "plan_race_build", "filled_slots": {"race_date": "2026-04-25"}, "missing_slots": ["race_distance"], "next_question": "Is this a marathon, half marathon, or another distance?", "should_execute": false}, "expected_system_action": "ASK_FOR_SLOT", "user_facing_response": "Is this a marathon, half marathon, or another distance?"}
{"test_id": "2.2", "name": "distance_synonym", "user_input": "26.2", "system_state": {"target_action": "plan_race_build", "filled_slots": {"race_date": "2026-04-25"}, "missing_slots": ["race_distance"]}, "expected_llm_output": {"filled_slots": {"race_date": "2026-04-25", "race_distance": "Marathon"}, "missing_slots": [], "should_execute": true}, "expected_system_action": "EXECUTE", "user_facing_response": null}
{"test_id": "3.1", "name": "confirmation_required", "user_input": "April 25", "system_state": {"target_action": "plan_race_build", "filled_slots": {"race_distance": "Marathon"}, "missing_slots": ["race_date"], "confirmation_required": true}, "expected_llm_output": {"filled_slots": {"race_date": "2026-04-25", "race_distance": "Marathon"}, "missing_slots": ["confirmation"], "next_question": "Do you want me to create your marathon training plan now?", "should_execute": false}, "expected_system_action": "ASK_FOR_CONFIRMATION", "user_facing_response": "Do you want me to create your marathon training plan now?"}
{"test_id": "3.2", "name": "confirmation_given", "user_input": "Yes", "system_state": {"target_action": "plan_race_build", "filled_slots": {"race_date": "2026-04-25", "race_distance": "Marathon"}, "missing_slots": ["confirmation"]}, "expected_llm_output": {"filled_slots": {"race_date": "2026-04-25", "race_distance": "Marathon", "confirmation": true}, "missing_slots": [], "should_execute": true}, "expected_system_action": "EXECUTE", "user_facing_response": null}
{"test_id": "4.1", "name": "premature_advice_request", "user_input": "What should I focus on this week?", "system_state": {"target_action": null, "plan_race_build_executed": false, "filled_slots": {}}, "expected_llm_output": {"target_action": "plan_race_build", "missing_slots": ["race_date"], "next_question": "I can plan your week once your marathon plan is created. What is your marathon date?", "should_execute": false}, "expected_system_action": "ASK_FOR_SLOT", "user_facing_response": "I can plan your week once your marathon plan is created. What is your marathon date?", "must_not_contain": ["focus on", "you should", "tips", "advice"]}
{"test_id": "4.2", "name": "repeated_advice_attempt", "user_input": "Just tell me what to do", "system_state": {"target_action": "plan_race_build", "missing_slots": ["race_date"]}, "expected_llm_output": {"target_action": "plan_race_build", "missing_slots": ["race_date"], "next_question": "What is the date of your marathon?", "should_execute": false}, "expected_system_action": "ASK_FOR_SLOT", "user_facing_response": "What is the date of your marathon?", "must_not_contain": ["you should", "focus on", "tips"]}
{"test_id": "5.1", "name": "weekly_focus_after_plan_exists", "user_input": "What should I focus on this week?", "system_state": {"target_action": null, "plan_race_build_executed": true}, "expected_llm_output": {"target_action": "plan_week", "missing_slots": [], "should_execute": true}, "expected_system_action": "EXECUTE", "user_facing_response": null}
{"test_id": "6.1", "name": "ambiguous_confirmation", "user_input": "Maybe later", "system_state": {"target_action": "plan_race_build", "filled_slots": {"race_date": "2026-04-25", "race_distance": "Marathon"}, "missing_slots": ["confirmation"]}, "expected_llm_output": {"missing_slots": ["confirmation"], "next_question": "Let me know when you're ready and I can build the plan.", "should_execute": false}, "expected_system_action": "ASK_FOR_CONFIRMATION", "user_facing_response": "Let me know when you're ready and I can build the plan."}
{"test_id": "6.2", "name": "off_topic_input", "user_input": "How long is a marathon?", "system_state": {"target_action": null}, "expected_llm_output": {"target_action": null, "should_execute": false}, "expected_system_action": "INFORMATIONAL_RESPONSE", "user_facing_response": "A marathon is 26.2 miles (42.195 kilometers)."}
{"test_id": "7.1", "name": "advice_before_execution_fails", "user_input": "I'm training for a marathon", "system_state": {}, "expected_llm_output": {"target_action": "plan_race_build", "missing_slots": ["race_date"], "next_question": "What is the date of your marathon?"}, "must_fail_if": {"message_contains": ["you should", "build mileage", "gradually", "tips"]}, "expected_system_action": "REJECT_ADVICE"}
{"test_id": "7.2", "name": "multiple_questions_fails", "user_input": "I'm training for a marathon", "system_state": {}, "expected_llm_output": {"target_action": "plan_race_build", "missing_slots": ["race_date", "race_distance"]}, "must_fail_if": {"question_count": "> 1", "message_contains": "and"}, "expected_system_action": "REJECT_MULTIPLE_QUESTIONS"}
{"test_id": "7.3", "name": "chatty_response_fails", "user_input": "I'm training for a marathon", "system_state": {}, "expected_llm_output": {"target_action": "plan_race_build", "missing_slots": ["race_date"]}, "must_fail_if": {"sentence_count": "> 2", "paragraph_count": "> 1", "message_contains": ["let's start", "thinking about", "goals"]}, "expected_system_action": "REJECT_CHATTY"}
