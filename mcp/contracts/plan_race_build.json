{
  "name": "plan_race_build",
  "description": "Plan a race build and generate training sessions. Extracts race information from message and saves multiple planned sessions to the database.",
  "input_schema": {
    "message": "string",
    "user_id": "string",
    "athlete_id": "integer"
  },
  "output_schema": {
    "success": "boolean",
    "message": "string",
    "saved_count": "integer",
    "race_distance": "string",
    "race_date": "string"
  },
  "error_cases": [
    {
      "code": "USER_NOT_FOUND",
      "description": "User ID does not exist in the database."
    },
    {
      "code": "ATHLETE_NOT_FOUND",
      "description": "Athlete ID does not exist in the database."
    },
    {
      "code": "DB_ERROR",
      "description": "Database insert failed."
    },
    {
      "code": "MISSING_RACE_INFO",
      "description": "Race distance or race date is missing from the message."
    },
    {
      "code": "INVALID_RACE_DATE",
      "description": "Race date is in the past or invalid format."
    },
    {
      "code": "INVALID_MESSAGE",
      "description": "Message is empty or invalid."
    }
  ]
}
